{include file="/layout/header"}
<h1>
    <span class="action-span"><a href="/index.php/admin/Privilege/lst">权限列表</a></span>
    <span class="action-span1"><a href="#">修改权限</a></span>
    <div style="clear:both"></div>
</h1>
<div class="main-div">
    <form name="main_form" method="POST" action="" enctype="multipart/form-data" >
    	<input type="hidden" name="id" value="<?php echo $data['id']; ?>" />
        <table cellspacing="1" cellpadding="3" width="100%">
			<tr>
				<td class="label">上级权限：</td>
				<td>
					<select name="parent_id">
						<option value="0">顶级权限</option>
                        <?php foreach ($parentData as $k => $v): ?>
                        <?php if($v['id'] == $data['id'] || in_array($v['id'], $children)) continue ; ?>
                        <option <?php if($v['id'] == $data['parent_id']): ?>selected="selected"<?php endif; ?> value="<?php echo $v['id']; ?>"><?php echo str_repeat('-', 8*$v['level']).$v['pri_name']; ?></option>
                        <?php endforeach; ?>
                    </select>
				</td>
			</tr>
            <tr>
                <td class="label">权限名称：</td>
                <td>
                    <input  type="text" id="pri_name" name="pri_name" value="<?php echo $data['pri_name']; ?>" />
                </td>
            </tr>
            <tr>
                <td class="label">模块名称：</td>
                <td>
                    <input  type="text" id="module_name" name="module_name" value="<?php echo $data['module_name']; ?>" />
                </td>
            </tr>
            <tr>
                <td class="label">控制器名称：</td>
                <td>
                    <input  type="text" id="controller_name" name="controller_name" value="<?php echo $data['controller_name']; ?>" />
                </td>
            </tr>
            <tr>
                <td class="label">方法名称：</td>
                <td>
                    <input  type="text" id="action_name" name="action_name" value="<?php echo $data['action_name']; ?>" />
                </td>
            </tr>
            <tr>
                <td colspan="99" align="center">
                    <input type="submit" class="button" value=" 确定 "  onclick="return check(this.form)"/>
                    <input type="reset" class="button" value=" 重置 " />
                </td>
            </tr>
        </table>
    </form>
</div>
{include file="/layout/footer"}
<script>
    //检查form表单输入框
    function check(form) {
        if($("#pri_name").val()==''|| $("#pri_name").val()==null) {
            alert('权限名称不能为空');
            return false;
        }
        if($("#module_name").val()==''|| $("#module_name").val()==null) {
            alert('模板名称不能为空');
            return false;
        }
        if($("#controller_name").val()==''|| $("#controller_name").val()==null) {
            alert('控制器名称不能为空');
            return false;
        }
        if($("#action_name").val()==''|| $("#action_name").val()==null) {
            alert('控制器名称不能为空');
            return false;
        }
    }
</script>